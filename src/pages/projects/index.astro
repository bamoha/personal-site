---
import { getCollection } from "astro:content";
import PageLayout from "@layouts/PageLayout.astro";
import Container from "@components/Container.astro";
import ArrowCard from "@components/ArrowCard.astro";
import { PROJECTS } from "@consts";

const projects = (await getCollection("projects"))
  .filter(project => !project.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<PageLayout title={PROJECTS.TITLE} description={PROJECTS.DESCRIPTION}>
  <Container>
    <div class="space-y-10">
      <div class="animate font-semibold text-black dark:text-[#d1d5db]">
        Projects
      </div>
      {
        projects.length > 0 ? (
          <ul class="animate flex flex-col gap-4">
            {projects.map((project) => (
              <li>
                <ArrowCard entry={project}/>
              </li>
            ))}
          </ul>
        ) : (
          <div class="animate flex flex-col items-center justify-center py-16 px-8 rounded-lg border border-dashed border-black/20 dark:border-white/20 bg-black/5 dark:bg-white/5">
            <div class="text-4xl mb-4">ðŸš§</div>
            <div class="text-lg font-semibold text-black dark:text-[#d1d5db] mb-2">Coming Soon</div>
            <p class="text-sm text-black/50 dark:text-white/50 text-center max-w-md">
              I'm working on some exciting projects. Check back soon to see what I've been building.
            </p>
          </div>
        )
      }
    </div>
  </Container>
</PageLayout>
