---
import { getCollection } from "astro:content";
import PageLayout from "@layouts/PageLayout.astro";
import Container from "@components/Container.astro";
import { formatDate } from "@lib/utils";
import { SPEAKING, SITE } from "@consts";

const speaking = (await getCollection("speaking"))
  .sort((a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf());
---

<PageLayout title={SPEAKING.TITLE} description={SPEAKING.DESCRIPTION}>
  <Container>
    <div class="space-y-10">
      <div class="animate font-semibold text-black dark:text-[#d1d5db]">
        Speaking
      </div>
      
      <div class="animate space-y-4 text-black/75 dark:text-[#d1d5db]">
        <p>
          I never planned to become a speaker. It started with a title I did not ask for.
        </p>
        <p>
          In university, I became General Secretary of the computer students association. Suddenly, I was the person who had to stand up, explain things, rally people, and make announcements nobody wanted to hear. It was uncomfortable at first. But somewhere between organizing meetings and running campaigns, I realized I actually liked it. The nerves never fully disappeared, but the pull to communicate became stronger than the fear.
        </p>
        <p>
          That curiosity turned into intention. I started hosting events, facilitating discussions, and eventually stepping onto stages to share ideas of my own. What began as a responsibility became something I genuinely looked forward to.
        </p>
        <p>
          Today, I speak at tech events and developer meetups across communities like DevFest Abuja and Abeokuta. I talk about frontend engineering, software craftsmanship, and the quiet lessons I have picked up along the way. For me, speaking is not performance. It is thinking out loud with people who care about the same things I do.
        </p>
        <p class="font-semibold text-black dark:text-[#d1d5db]">
          Want me at your event?
        </p>
        <p>
          I am always open to new stages and new conversations. If you think I would be a good fit, <a href={`mailto:${SITE.EMAIL}`} class="text-black dark:text-[#d1d5db] underline hover:opacity-75 transition-opacity">send me a message</a> and let us talk.
        </p>
      </div>

      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead>
            <tr class="border-b border-black/15 dark:border-white/20">
              <th class="text-left py-3 px-4 font-semibold text-black dark:text-[#d1d5db]">Session Name</th>
              <th class="text-left py-3 px-4 font-semibold text-black dark:text-[#d1d5db]">Event/Location</th>
              <th class="text-left py-3 px-4 font-semibold text-black dark:text-[#d1d5db]">Date</th>
              <th class="text-left py-3 px-4 font-semibold text-black dark:text-[#d1d5db]">Links</th>
            </tr>
          </thead>
          <tbody>
            {speaking.map((entry) => (
              <tr class="border-b border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/5 transition-colors">
                <td class="py-3 px-4 font-semibold text-black dark:text-[#d1d5db]">
                  {entry.data.title}
                </td>
                <td class="py-3 px-4 text-sm opacity-75">
                  {entry.data.event}
                  {entry.data.location && ` â€¢ ${entry.data.location}`}
                </td>
                <td class="py-3 px-4 text-sm opacity-75">
                  {formatDate(entry.data.date)}
                </td>
                <td class="py-3 px-4 text-sm">
                  <div class="flex flex-wrap gap-2">
                    {entry.data.eventUrl && (
                      <a 
                        href={entry.data.eventUrl} 
                        target="_blank" 
                        rel="noopener noreferrer" 
                        class="text-black dark:text-[#d1d5db] underline opacity-75 hover:opacity-100 transition-opacity"
                      >
                        Event
                      </a>
                    )}
                    {entry.data.slidesUrl && (
                      <a 
                        href={entry.data.slidesUrl} 
                        target="_blank" 
                        rel="noopener noreferrer" 
                        class="text-black dark:text-[#d1d5db] underline opacity-75 hover:opacity-100 transition-opacity"
                      >
                        Slides
                      </a>
                    )}
                    {entry.data.youtubeUrl && (
                      <a 
                        href={entry.data.youtubeUrl} 
                        target="_blank" 
                        rel="noopener noreferrer" 
                        class="text-black dark:text-[#d1d5db] underline opacity-75 hover:opacity-100 transition-opacity"
                      >
                        YouTube
                      </a>
                    )}
                  </div>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  </Container>
</PageLayout>

